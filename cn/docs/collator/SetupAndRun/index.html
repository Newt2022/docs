<!doctype html>
<html class="docs-version-current" lang="cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">ğŸš„ å®‰è£…å¹¶è¿è¡Œ Calamari èŠ‚ç‚¹ | Manta Network Technical Resources</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.manta.network/cn/docs/collator/SetupAndRun"><meta data-react-helmet="true" name="docusaurus_locale" content="cn"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ğŸš„ å®‰è£…å¹¶è¿è¡Œ Calamari èŠ‚ç‚¹ | Manta Network Technical Resources"><meta data-react-helmet="true" name="description" content="å®‰è£…"><meta data-react-helmet="true" property="og:description" content="å®‰è£…"><link data-react-helmet="true" rel="icon" href="/cn/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.manta.network/cn/docs/collator/SetupAndRun"><link data-react-helmet="true" rel="alternate" href="https://docs.manta.network/docs/collator/SetupAndRun" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.manta.network/cn/docs/collator/SetupAndRun" hreflang="cn"><link data-react-helmet="true" rel="alternate" href="https://docs.manta.network/docs/collator/SetupAndRun" hreflang="x-default"><link rel="stylesheet" href="/cn/assets/css/styles.d71edf38.css">
<link rel="preload" href="/cn/assets/js/runtime~main.20d0b31e.js" as="script">
<link rel="preload" href="/cn/assets/js/main.afc080ad.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cn/"><div class="navbar__logo"><img src="/cn/img/manta2.png" alt="Manta Network Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/cn/img/manta2.png" alt="Manta Network Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Manta Network å®˜æ–¹æ–‡æ¡£</b></a><a href="https://manta.network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Manta Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/Manta-Network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>ä¸­æ–‡</span></span></a><ul class="dropdown__menu"><li><a href="/docs/collator/SetupAndRun" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/cn/docs/collator/SetupAndRun" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ğŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ğŸŒ</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cn/docs/Introduction">ä»‹ç»</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cn/docs/manta/Overview">Manta</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cn/docs/calamari/Overview">Calamari (Manta å…ˆè¡Œç½‘)</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/calamari/Overview">ğŸ“ æ¦‚è§ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/calamari/KMA">ğŸ™ Calamari ä»£å¸ KMA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/calamari/Governance">ğŸ™  æ²»ç†æ¦‚è§ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/calamari/api">ğŸ›   Calamari API æ¥å£</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/calamari/CrowdloanClaim">ğŸŸ  ä¼—è´·å¥–åŠ±ä»£å¸è§£é”</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cn/docs/dolphin/Overview">Dolphin</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/dolphin/Overview">ğŸ“ æ¦‚è§ˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/dolphin/DolphinPay">ğŸ¬ DolphinPay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/dolphin/PrivatePayment">ğŸ¤¿ éšç§æ”¯ä»˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/dolphin/PrivateExchange">ğŸ’± éšç§äº¤æ˜“</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cn/docs/signer/Overview">Signer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/cn/docs/collator/CommunityCollatorProgram">Collator èŠ‚ç‚¹</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/collator/CommunityCollatorProgram">ğŸ§©  ç¤¾åŒºèŠ‚ç‚¹è®¡åˆ’</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/collator/HowToApply">ğŸ‘©ğŸ¼â€ğŸ’» å¦‚ä½•ç”³è¯·è¿è¡Œ Calamari èŠ‚ç‚¹ï¼Ÿ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cn/docs/collator/SetupAndRun">ğŸš„ å®‰è£…å¹¶è¿è¡Œ Calamari èŠ‚ç‚¹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/collator/HowToLeave">ğŸ’” é€€å‡ºèŠ‚ç‚¹è®¡åˆ’</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/cn/docs/education/ZkpChallenge">Learn About Zero-Knowledge Proofs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cn/docs/education/ZkpChallenge">Manta Zero Knowledge Proof Challenge</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">æœ¬é¡µ</button></div><div class="theme-doc-markdown markdown"><h1>ğŸš„ å®‰è£…å¹¶è¿è¡Œ Calamari èŠ‚ç‚¹</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="å®‰è£…">å®‰è£…<a class="hash-link" href="#å®‰è£…" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">docker</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">fedora</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">ubuntu</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">other linux</li></ul><div class="margin-vert--md"><div role="tabpanel">- æ‹‰å–æœ€æ–° Calamari å®¹å™¨é•œåƒ<div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull mantanetwork/calamari:latest</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div><div role="tabpanel" hidden=""><p>manta .rpm åŒ…å«ï¼š</p><ul><li>manta äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆç”¨äºè¿è¡Œ calamariï¼‰</li><li>manta å’Œ calamari ç³»ç»Ÿæ–‡ä»¶</li><li>mantaã€calamariã€polkadot å’Œ kusama åŸºç¡€é…ç½®æ–‡ä»¶</li><li>ç”¨äºå®‰è£…åè¿è¡Œåˆ›å»º systemd æœåŠ¡å’Œ manta å¸æˆ·çš„è„šæœ¬æ–‡ä»¶</li></ul><p>å¼€å§‹å®‰è£…(å¦è§: <a href="https://rpm.manta.systems/" target="_blank" rel="noopener noreferrer">rpm.manta.systems</a>):</p><ul><li><p>æ·»åŠ  manta .rpm å­˜å‚¨åº“</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash </span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> dnf-plugins-core</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf config-manager --add-repo https://rpm.manta.systems/manta.repo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf config-manager --set-enabled manta</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf update</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å®‰è£… Manta</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> manta</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><p>manta .rpm åŒ…å«ï¼š</p><ul><li>manta äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆç”¨äºè¿è¡Œ calamariï¼‰</li><li>manta å’Œ calamari ç³»ç»Ÿæ–‡ä»¶</li><li>mantaã€calamariã€polkadot å’Œ kusama åŸºç¡€é…ç½®æ–‡ä»¶</li><li>ç”¨äºå®‰è£…åè¿è¡Œåˆ›å»º systemd æœåŠ¡å’Œ manta å¸æˆ·çš„è„šæœ¬æ–‡ä»¶</li></ul><p>å¼€å§‹å®‰è£… (å¦è§: <a href="https://rpm.manta.systems/" target="_blank" rel="noopener noreferrer">rpm.manta.systems</a>):</p><ul><li><p>æ·»åŠ  manta .deb å­˜å‚¨åº“</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -o /usr/share/keyrings/manta.gpg https://deb.manta.systems/manta.gpg</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -o /etc/apt/sources.list.d/manta.list https://deb.manta.systems/manta.list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å®‰è£… Manta</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> manta</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><ul><li><p>ä¸‹è½½äºŒè¿›åˆ¶ã€åŒºå—é“¾é…ç½®å’Œç³»ç»Ÿå•å…ƒæ–‡ä»¶</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># intall jq on ubuntu</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> jq</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># or on fedora</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> jq</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># get the latest version of binary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">manta_version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">curl</span><span class="token variable" style="color:rgb(191, 199, 213)"> -s https://api.github.com/repos/Manta-Network/Manta/releases/latest </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> jq -r .tag_name </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">cut</span><span class="token variable" style="color:rgb(191, 199, 213)"> -c </span><span class="token variable number" style="color:rgb(247, 140, 108)">2</span><span class="token variable" style="color:rgb(191, 199, 213)">-</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># binary</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -Lo /usr/local/bin/manta https://github.com/Manta-Network/Manta/releases/download/v</span><span class="token variable" style="color:rgb(191, 199, 213)">${manta_version}</span><span class="token plain">/manta</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ln</span><span class="token plain"> -srf /usr/local/bin/manta /usr/local/bin/calamari</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># chainspecs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p /usr/share/substrate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -Lo /usr/share/substrate/calamari.json https://raw.githubusercontent.com/Manta-Network/Manta/v3.0.9/genesis/calamari-genesis.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -Lo /usr/share/substrate/kusama.json https://raw.githubusercontent.com/paritytech/polkadot/master/node/service/res/kusama.json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemd unit file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -Lo /etc/systemd/system/calamari.service https://raw.githubusercontent.com/Manta-Network/Manta/deb-rpm/scripts/package/calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>åˆ›å»º Manta ç³»ç»Ÿå¸æˆ·</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">groupadd</span><span class="token plain"> --system manta</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useradd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --system </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --gid manta </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --home-dir /var/lib/substrate </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --create-home </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --shell /sbin/nologin </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --comment </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;service account for manta and calamari services&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    manta</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="é…ç½®">é…ç½®<a class="hash-link" href="#é…ç½®" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>éœ€è¦ä¸€äº›é¢å¤–æœ‰åŠ©äºèŠ‚ç‚¹çš„ç›¸å…³é…ç½®å‘½ä»¤ã€‚</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">fedora</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">ubuntu</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">other linux</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>ç¼–è¾‘ calamari æœåŠ¡å•å…ƒæ–‡ä»¶ä¸­ <code>ExecStart</code> ä¸‹çš„å‚æ•°é¡¹ã€‚</p><p><code>/usr/lib/systemd/system/calamari.service</code></p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ExecStart=/usr/bin/calamari \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --collator \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my parachain collator node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/calamari.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --base-path /var/lib/substrate \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31333 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9144 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-max-connections 100 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9133 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-cors all \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-methods auto \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9615 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --state-cache-size 0 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --bootnodes \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -- \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my embedded relay node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/kusama.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31334 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9145 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9134 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9616 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --telemetry-url &#x27;wss://api.telemetry.manta.systems/submit/ 0&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div><div role="tabpanel" hidden=""><p>ç¼–è¾‘ calamari æœåŠ¡å•å…ƒæ–‡ä»¶ä¸­ <code>ExecStart</code> ä¸‹çš„å‚æ•°é¡¹ã€‚</p><p><code>/usr/lib/systemd/system/calamari.service</code></p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ExecStart=/usr/bin/calamari \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --collator \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my parachain collator node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/calamari.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --base-path /var/lib/substrate \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31333 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9144 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-max-connections 100 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9133 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-cors all \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-methods auto \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9615 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --state-cache-size 0 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --bootnodes \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -- \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my embedded relay node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/kusama.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31334 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9145 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9134 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9616 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --telemetry-url &#x27;wss://api.telemetry.manta.systems/submit/ 0&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div><div role="tabpanel" hidden=""><p>ç¼–è¾‘ calamari æœåŠ¡å•å…ƒæ–‡ä»¶ä¸­ <code>ExecStart</code> ä¸‹çš„å‚æ•°é¡¹ã€‚</p><p><code>/etc/systemd/system/calamari.service</code></p><div class="codeBlockContainer_I0IT language-ini theme-code-block"><div class="codeBlockContent_wNvx ini"><pre tabindex="0" class="prism-code language-ini codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ExecStart=/usr/local/bin/calamari \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --collator \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my parachain collator node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/calamari.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --base-path /var/lib/substrate \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31333 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9144 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-max-connections 100 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9133 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-cors all \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-methods auto \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9615 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --state-cache-size 0 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --bootnodes \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name &#x27;my embedded relay node name&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --chain /usr/share/substrate/kusama.json \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --port 31334 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --ws-port 9145 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-port 9134 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-port 9616 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --prometheus-external \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --telemetry-url &#x27;wss://api.telemetry.manta.systems/submit/ 0&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="èŠ‚ç‚¹é…ç½®ç‰¹æ®Šå‚æ•°">èŠ‚ç‚¹é…ç½®ç‰¹æ®Šå‚æ•°<a class="hash-link" href="#èŠ‚ç‚¹é…ç½®ç‰¹æ®Šå‚æ•°" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>Calamari èŠ‚ç‚¹é…ç½®æ–‡ä»¶æ”¯æŒä¸¤ç»„ç”±åŒç ´æŠ˜å· (<code>â€”</code>) åˆ†éš”çš„å‚æ•°ã€‚ ç¬¬ä¸€ç»„ä¸ºå¹³è¡Œé“¾èŠ‚ç‚¹å‚æ•°ã€‚ ç¬¬äºŒç»„ä¸ºä¸­ç»§é“¾èŠ‚ç‚¹å‚æ•°ã€‚</p><ul><li><strong><em>å¹³è¡Œé“¾</em></strong> å‚æ•°<ul><li><code>--collator</code>: åœ¨ collator æ¨¡å¼ä¸‹è¿è¡Œã€‚ä¸<code>--validator</code>ä¸­ç»§é“¾ç›¸åŒã€‚è®¾ç½®æ­¤é¡¹ä¹Ÿä¼šä»¤ pruning æ¨¡å¼ä¸º<code>archive</code>ï¼ˆå¦‚<code>--pruning archive</code>ï¼‰</li><li><code>--name</code>: å¹³è¡Œé“¾èŠ‚ç‚¹åç§°ï¼Œæ˜¾ç¤ºåœ¨ <a href="https://telemetry.manta.systems/#list/0x4ac80c99289841dd946ef92765bf659a307d39189b3ce374a92b5f0415ee17a1" target="_blank" rel="noopener noreferrer">calamari telemetry</a></li><li><code>--port</code>: å¹³è¡Œé“¾ç‚¹å¯¹ç‚¹ç«¯å£ã€‚ calamari é»˜è®¤ä¸º 31333ï¼Œå¯é€šè¿‡æ­¤ç«¯å£è®¿é—®å…¶ä»– calamari èŠ‚ç‚¹ã€‚</li><li><code>--prometheus-port</code>: å¹³è¡Œé“¾æŒ‡æ ‡ç«¯å£ã€‚ calamari é»˜è®¤ä¸º 9615ã€‚manta æŒ‡æ ‡ç›‘æ§æœåŠ¡å™¨<code>18.156.192.254</code>ï¼ˆæŒ‰å­ç½‘é…ç½®ä¸º<code>18.156.192.254/32</code>ï¼‰éœ€å¯è®¿é—®æ­¤ç«¯å£ã€‚</li><li><code>--prometheus-external</code>: å¦‚æœæŒ‡æ ‡ç«¯å£ä¸é€šè¿‡ ssl åå‘ä»£ç†ï¼Œæ‚¨å¯èƒ½éœ€è¦è®¾ç½®æ­¤å‚æ•°æ¥å‘Šè¯‰æŒ‡æ ‡æœåŠ¡å™¨ä¾¦å¬ <em>all ips</em> å¥—æ¥å­— (<code>0.0.0.0:9615</code>) è€Œä¸æ˜¯ <em>localhost only</em> (<code>127.0 .0.1:9615</code>)</li></ul></li><li><strong><em>ä¸­ç»§é“¾</em></strong> å‚æ•°<ul><li><code>--name</code>: ä¸­ç»§èŠ‚ç‚¹åç§°ï¼Œæ˜¾ç¤ºåœ¨ <a href="https://telemetry.manta.systems/#list/0xb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe" target="_blank" rel="noopener noreferrer">kusama telemetry</a></li><li><code>--port</code>: ä¸­ç»§é“¾ç‚¹å¯¹ç‚¹ç«¯å£ã€‚ calamari-embedded-kusama é»˜è®¤ä¸º 31334ã€‚å¯é€šè¿‡æ­¤ç«¯å£è®¿é—®å…¶ä»– kusama èŠ‚ç‚¹ã€‚</li><li><code>--prometheus-port</code>: ä¸­ç»§é“¾æŒ‡æ ‡ç«¯å£ã€‚ calamari-embedded-kusama é»˜è®¤ä¸º 9616ã€‚manta æŒ‡æ ‡ç›‘æ§æœåŠ¡å™¨<code>18.156.192.254</code>ï¼ˆæŒ‰å­ç½‘é…ç½®ä¸º<code>18.156.192.254/32</code>ï¼‰éœ€å¯è®¿é—®æ­¤ç«¯å£</li><li><code>--prometheus-external</code>: å¦‚æœæŒ‡æ ‡ç«¯å£ä¸é€šè¿‡ ssl åå‘ä»£ç†ï¼Œæ‚¨å¯èƒ½éœ€è¦è®¾ç½®æ­¤å‚æ•°æ¥å‘Šè¯‰æŒ‡æ ‡æœåŠ¡å™¨ä¾¦å¬ <em>all ips</em> å¥—æ¥å­— (<code>0.0.0.0:9616</code>) è€Œä¸æ˜¯ <em>localhost only</em> (<code>127.0 .0.1:9616</code>)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="å¼€æ”¾èŠ‚ç‚¹è¿è¡ŒæŒ‡æ ‡ç›‘æ§">å¼€æ”¾èŠ‚ç‚¹è¿è¡ŒæŒ‡æ ‡ç›‘æ§<a class="hash-link" href="#å¼€æ”¾èŠ‚ç‚¹è¿è¡ŒæŒ‡æ ‡ç›‘æ§" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä½¿ç”¨ <a href="https://wiki.polkadot.network/docs/maintain-guides-how-to-monitor-your-node" target="_blank" rel="noopener noreferrer">polkadot wiki</a> ä¸Šæè¿°çš„æŠ€æœ¯ç›‘æ§æ‚¨çš„ Collator èŠ‚ç‚¹ã€‚ç«¯å£ <code>9615</code> å’Œ <code>9616</code> ä¸Šå…¬å¼€çš„æŒ‡æ ‡æœ‰åŠ©äºå®ç°è¿™ä¸€ç‚¹ï¼Œè¿™äº›ç«¯å£åº”å¯è®¿é—® prometheus/alertmanager æœåŠ¡å™¨ï¼ˆalertmanager é…ç½®æé†’æœåŠ¡ï¼‰å’Œ manta  <code>18.156.192.254</code> ç›‘æ§æœåŠ¡å™¨<a href="https://pulse.pelagos.systems" target="_blank" rel="noopener noreferrer">pulse server</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="é˜²ç«å¢™é…ç½®">é˜²ç«å¢™é…ç½®<a class="hash-link" href="#é˜²ç«å¢™é…ç½®" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><p>ä¸ºä¿è¯èŠ‚ç‚¹æ­£å¸¸è¿è¡Œï¼Œéœ€è¦ä»å¤–éƒ¨è®¿é—®ä¸»æœºçš„ä»¥ä¸‹å‡ ä¸ªç«¯å£ã€‚ ä¸ºäº†ç®€åŒ–é…ç½®ï¼Œæ–‡æ¡£é‡Œä½¿ç”¨ä»¥ä¸‹ç«¯å£ä¸ºé»˜è®¤ç«¯å£ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æ¥æ›´æ”¹ç«¯å£ã€‚</p><ul><li><strong><em>31333</em></strong>: é»˜è®¤calamari p2pç«¯å£</li><li><strong><em>31334</em></strong>: é»˜è®¤ï¼ˆä¸­ç»§ï¼‰kusama p2pç«¯å£</li><li><strong><em>9615</em></strong>: é»˜è®¤ calamari prometheusç«¯å£</li><li><strong><em>9616</em></strong>: é»˜è®¤ï¼ˆä¸­ç»§ï¼‰kusama prometheusç«¯å£</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="é€šè¿‡sslletsencrypt-å’Œ-nginxåå‘ä»£ç†è·å–ä¸»æœºçš„metrics">é€šè¿‡sslï¼Œletsencrypt å’Œ nginxåå‘ä»£ç†è·å–ä¸»æœºçš„metrics<a class="hash-link" href="#é€šè¿‡sslletsencrypt-å’Œ-nginxåå‘ä»£ç†è·å–ä¸»æœºçš„metrics" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ä½³å®è·µè·å–ä½ çš„èŠ‚ç‚¹çš„metricsï¼š</p><ul><li><strong><em>ssl</em>ï¼Œ</strong> æ­¤æ–¹å¼ä¸‹ï¼Œmetricsçš„å¯é æ€§å’Œæ¥æºéƒ½èƒ½å¤Ÿè¢«éªŒè¯ã€‚</li><li><strong><em>dns</em>ï¼Œ</strong>å³ä½¿ä½ çš„èŠ‚ç‚¹çš„æœºå™¨çš„IPåœ°å€å˜åŠ¨äº†ï¼Œä¹Ÿä¸ä¼šéœ€è¦è§¦å‘æœåŠ¡å™¨æ›´æ–°ã€‚</li></ul><p>å½“æä¾›çš„æ˜¯åŸŸåï¼Œæ¯”å¦‚åƒ <code>calamari.awesome-host.awesome-collators.com</code> ï¼Œè¿™æ ·æˆ‘ä»¬çš„ç›‘æ§ç³»ç»Ÿæ›´åŠ å®¹æ˜“åœ°è·å–èŠ‚ç‚¹çš„è¿è¡Œæƒ…å†µã€‚ä½†å¦‚æœä½¿ç”¨çš„æ˜¯IPï¼Œæ¯”å¦‚<code>123.123.123.123:987</code>ï¼Œ è¿™æ ·å¯èƒ½ä¼šä¸å¤ªå®¹æ˜“åŒºåˆ†æ˜¯å“ªä¸€ä¸ªèŠ‚ç‚¹è¢«ç›‘å¬ï¼Œä¹Ÿå¯èƒ½ä¸çŸ¥é“ç›‘å¬çš„æ˜¯ä¸­ç»§é“¾æˆ–è€…æ˜¯å¹³è¡Œé“¾ã€‚</p><p>ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„åŠæ³•å°±æ˜¯å®‰è£… certbotå’Œ nginxåˆ°ä½ çš„ä¸»æœºä¸Šï¼Œå¹¶é…ç½®443ç«¯å£ä¸ºåå‘ä»£ç†ç›‘å¬ç«¯å£ï¼Œè¿™ä¸ªç«¯å£ä¼šä»£ç†sslè¯·æ±‚åˆ°æœ¬åœ°çš„metricç«¯å£ã€‚</p><p>ä¸‹é¢åˆ—ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><ul><li>ä½ æ˜¯åŸŸå <strong><em>example.com</em></strong> çš„ç®¡ç†å‘˜ã€‚</li><li>è¿™ä¸ªåŸŸåè¢« cloudfareæˆ–è€…route53ç®¡ç†ã€‚</li><li>ä½ çš„èŠ‚ç‚¹ä¸»æœºåå« <strong><em>bob</em>ã€‚</strong></li><li>ä½ æ‰€è·‘çš„calamarièŠ‚ç‚¹éƒ½ä½¿ç”¨äº†é»˜è®¤çš„ç«¯å£ã€‚</li><li>ä½ çš„è·¯ç”±ç½‘å…³è½¬å‘ 443/ssl ç½‘ç»œè¯·æ±‚åˆ°ä½ çš„collatorèŠ‚ç‚¹ã€‚</li><li>ä½ çš„ä¸»æœºå®‰è£…äº† certbotã€‚</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>cloudfareå’Œroute53çš„ä¾‹å­å¦‚ä¸‹ã€‚ä½†ä½ ä¹Ÿå¯ä»¥google <code>python3-certbot-dns-${your_dns_provider}</code>ï¼Œå¾—åˆ°å…¶ä»–çš„ä¾‹å­ã€‚</p></div></div><ul><li><p>å®‰è£… certbot å’Œä¸€ä¸ªdnséªŒè¯æ’ä»¶</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">fedora</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">ubuntu</li></ul><div class="margin-vert--md"><div role="tabpanel">```bash #!/bin/bash sudo dnf install \ certbot \ python3-certbot-dns-cloudflare \ python3-certbot-dns-route53 ```</div><div role="tabpanel" hidden=""><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  certbot </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  python3-certbot-dns-cloudflare </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  python3-certbot-dns-route53</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div></div></div></li><li><p>é€šè¿‡dnsçš„æ’ä»¶è¯·æ±‚ä¸€ä¸ªè¯ä¹¦ï¼Œè¿™æ ·certbotèƒ½å¤Ÿè‡ªåŠ¨åœ°æ›´æ–°è¯ä¹¦å½“è¯ä¹¦è¦è¿‡æœŸæ—¶ã€‚ä½†æ˜¯æ‰‹åŠ¨åœ°è¯·æ±‚è¯ä¹¦ï¼Œä¹Ÿå¿…é¡»è¦æ‰‹åŠ¨åœ°æ›´æ–°è¯ä¹¦æ¥ä¿è¯sslè¯ä¹¦æ˜¯æœ‰æ•ˆçš„ã€‚</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">cloudflare</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">route53</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> certbot certonly </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --dns-cloudflare </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --dns-cloudflare-credentials .cloudflare-credentials </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d bob.example.com </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d calamari.metrics.bob.example.com </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d kusama.metrics.bob.example.com</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> certbot certonly </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --dns-route53 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --dns-route53-propagation-seconds </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d bob.example.com </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d calamari.metrics.bob.example.com </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -d kusama.metrics.bob.example.com</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div></div></div></li><li><p>é…ç½® nginx<code>/etc/nginx/sites-enabled/example.com.conf</code>å°†ä»£ç† dns å­åŸŸåå‘åˆ°æœ¬åœ°æŒ‡æ ‡ç«¯å£ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name calamari.metrics.bob.example.com;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gzip off;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_pass http://127.0.0.1:9615;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_http_version 1.1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header X-Real-IP $remote_addr;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Host $host;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Upgrade $http_upgrade;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Connection &quot;upgrade&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">server {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    server_name kusama.metrics.bob.example.com;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    listen 443 ssl;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    gzip off;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    location / {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_pass http://127.0.0.1:9616;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_http_version 1.1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header X-Real-IP $remote_addr;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Host $host;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Upgrade $http_upgrade;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        proxy_set_header Connection &quot;upgrade&quot;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    include /etc/letsencrypt/options-ssl-nginx.conf;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">fedora</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">default_zone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">sudo</span><span class="token variable" style="color:rgb(191, 199, 213)"> firewall-cmd --get-default-zone</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># calamari p2p</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --zone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${default_zone}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">31333</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --permanent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># kusama p2p</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --zone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${default_zone}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">31334</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --permanent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># calamari metrics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --zone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${default_zone}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">9615</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --permanent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># kusama metrics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --zone</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${default_zone}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --add-port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">9616</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --permanent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> firewall-cmd --reload</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="è¿è¡Œ">è¿è¡Œ<a class="hash-link" href="#è¿è¡Œ" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">docker</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">fedora</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">ubuntu</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">other linux</li></ul><div class="margin-vert--md"><div role="tabpanel"><ul><li><p>å¯åŠ¨ docker èŠ‚ç‚¹</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -it </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -p </span><span class="token number" style="color:rgb(247, 140, 108)">9933</span><span class="token plain">:9933 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -p </span><span class="token number" style="color:rgb(247, 140, 108)">30333</span><span class="token plain">:30333 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -v host_path:/container_path </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name your_container_name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mantanetwork/calamari:latest </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --base-path /container_path/data </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --keystore-path /container_path/keystore </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --name your_collator_name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-cors all </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --collator </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --rpc-methods</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">unsafe </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --unsafe-rpc-external</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p>  ç›¸å…³åç§°å’Œè·¯å¾„ç¤ºä¾‹ï¼š</p><p>  <code>host_path:/container_path</code> =&gt; <code>~/my-calamari-db:/calamari</code></p><p>  <code>your_collator_name</code> =&gt; <code>Community-Collator-1</code></p><p>  ç¡®ä¿æ‚¨å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ä¸€è¡Œæ—¥å¿—ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ğŸ‘¤ Role: AUTHORITY</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><ul><li><p>æ£€æŸ¥ calamari æœåŠ¡çŠ¶æ€ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl status calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯ç”¨ calamari æœåŠ¡ï¼ˆè¯¥æœåŠ¡å°†åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯åŠ¨ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯åŠ¨ calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>åœæ­¢ calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl stop calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>æŸ¥çœ‹ calamari æ—¥å¿—ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">journalctl -u calamari.service -f</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>è°ƒè¯• calamari æœåŠ¡é…ç½®ï¼ˆä»¥ manta ç”¨æˆ·èº«ä»½è¿è¡Œ calamariï¼Œä»¥å¿«é€Ÿæ£€æŸ¥è¿è¡Œæ—¶é”™è¯¯ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/usr/bin/calamari --chain /usr/share/substrate/calamari.json --base-path /var/lib/substrate --port 31333 --ws-port 9144 --ws-max-connections 100 --rpc-port 9133 --rpc-cors all --rpc-methods safe --state-cache-size 0 --bootnodes /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci -- --chain /usr/share/substrate/kusama.json&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><ul><li><p>æ£€æŸ¥ calamari æœåŠ¡çŠ¶æ€ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl status calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯ç”¨ calamari æœåŠ¡ï¼ˆè¯¥æœåŠ¡å°†åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯åŠ¨ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯åŠ¨ calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>åœæ­¢calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl stop calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>æŸ¥çœ‹ calamari æ—¥å¿—ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">journalctl -u calamari.service -f</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>è°ƒè¯• calamari æœåŠ¡é…ç½®ï¼ˆä»¥ manta ç”¨æˆ·èº«ä»½è¿è¡Œ calamariï¼Œä»¥å¿«é€Ÿæ£€æŸ¥è¿è¡Œæ—¶é”™è¯¯ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/usr/bin/calamari --chain /usr/share/substrate/calamari.json --base-path /var/lib/substrate --port 31333 --ws-port 9144 --ws-max-connections 100 --rpc-port 9133 --rpc-cors all --rpc-methods safe --state-cache-size 0 --bootnodes /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci -- --chain /usr/share/substrate/kusama.json&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><ul><li><p>æ£€æŸ¥ calamari æœåŠ¡çŠ¶æ€ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl status calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯ç”¨ calamari æœåŠ¡ï¼ˆè¯¥æœåŠ¡å°†åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªå¯åŠ¨ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>å¯åŠ¨ calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>åœæ­¢calamari</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl stop calamari.service</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>æŸ¥çœ‹ calamari æ—¥å¿—ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">journalctl -u calamari.service -f</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>è°ƒè¯• calamari æœåŠ¡é…ç½®ï¼ˆä»¥ manta ç”¨æˆ·èº«ä»½è¿è¡Œ calamariï¼Œä»¥å¿«é€Ÿæ£€æŸ¥è¿è¡Œæ—¶é”™è¯¯ï¼‰ï¼š</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/usr/local/bin/calamari --chain /usr/share/substrate/calamari.json --base-path /var/lib/substrate --port 31333 --ws-port 9144 --ws-max-connections 100 --rpc-port 9133 --rpc-cors all --rpc-methods safe --state-cache-size 0 --bootnodes /dns/crispy.calamari.systems/tcp/30333/p2p/12D3KooWNE4LBfkYB2B7D4r9vL54YMMGsfAsXdkhWfBw8VHJSEQc /dns/crunchy.calamari.systems/tcp/30333/p2p/12D3KooWL3ELxcoMGA6han3wPQoym5DKbYHqkWkCuqyjaCXpyJTt /dns/hotdog.calamari.systems/tcp/30333/p2p/12D3KooWBdto53HnArmLdtf2RXzNWti7hD5mML7DWGZPD8q4cywv /dns/tasty.calamari.systems/tcp/30333/p2p/12D3KooWGs2hfnRQ3Y2eAoUyWKUL3g7Jmcsf8FpyhVYeNpXeBMSu /dns/tender.calamari.systems/tcp/30333/p2p/12D3KooWNXZeUSEKRPsp1yiDH99qSVawQSWHqG4umPjgHsn1joci -- --chain /usr/share/substrate/kusama.json&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="èŠ‚ç‚¹-session-å¯†é’¥">èŠ‚ç‚¹ session å¯†é’¥<a class="hash-link" href="#èŠ‚ç‚¹-session-å¯†é’¥" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>èŠ‚ç‚¹éœ€è¦ä¸¤ä¸ªå¸æˆ·/å¯†é’¥ã€‚</p><ul><li><strong><em>èŠ‚ç‚¹è´¦æˆ·</em></strong>: æŒæœ‰ 400,000 KMA çš„èŠ‚ç‚¹ç»‘å®šè´¦æˆ·ã€‚èŠ‚ç‚¹æ‰€æ”¶å–çš„äº¤æ˜“è´¹å°†è¢«å­˜å…¥è¯¥è´¦æˆ·ã€‚ èŠ‚ç‚¹è¿è¡Œæ—¶ç»‘å®šçš„KMAå°†è¢«é”å®šã€‚ æ­¤å¸æˆ·å¯†é’¥è¦ä»”ç»†ä¿ç®¡ï¼Œä¸è¦å­˜æ”¾åœ¨äºèŠ‚ç‚¹æœåŠ¡å™¨ä¸­ã€‚</li><li><strong><em>aura session å¯†é’¥</em></strong>: è¿™æ˜¯CollatorèŠ‚ç‚¹ç”¨äºåˆ›å»ºåŒºå—çš„ä¸€æ¬¡æ€§å¸æˆ·ã€‚ å®ƒç»‘å®šåˆ°èŠ‚ç‚¹å¸æˆ·ã€‚ æœ€å¥½çš„åšæ³•æ˜¯å®šæœŸæ›´æ¢ä¼šè¯å¯†é’¥ï¼Œæ¯ä¸ªå¯†é’¥æœ€å¤šä½¿ç”¨ä¸€æ¬¡ã€‚ å½“è°ƒç”¨ author_insertKey æˆ– author_rotateKeys rpc æ–¹æ³•æ—¶ï¼Œsubstrate å°†æ­¤å¸æˆ·çš„å¯†é’¥å­˜å‚¨åœ¨èŠ‚ç‚¹çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆ<code>/var/lib/substrate/chains/calamari/keystore</code>ï¼‰ä¸Šçš„å¹³è¡Œé“¾å¯†é’¥åº“ä¸­ã€‚</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>æ’å…¥å’Œæ›¿æ¢æ–¹æ³•å‡ä½¿ç”¨ä¸å®‰å…¨çš„ RPCè°ƒç”¨æ¥è®¾ç½®èŠ‚ç‚¹ä¼šè¯å¯†é’¥ã€‚å¦‚æœæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œåˆ™å¿…é¡»åœæ­¢æœåŠ¡ï¼Œç„¶åä½¿ç”¨<code>--rpc-methods=unsafe</code>å‚æ•°è®¾ç½®ã€‚è°ƒç”¨æˆåŠŸåï¼Œä¸è¦å¿˜è®°å°†è®¾ç½®æ›´æ”¹å›<code>safe</code>ï¼Œå› ä¸ºå…è®¸ä¸å®‰å…¨çš„ rpc è°ƒç”¨ä¼šå¯¼è‡´æš´éœ²çš„ rpc ç«¯å£çš„èŠ‚ç‚¹å¾ˆå®¹æ˜“åœ°è®©ä»»ä½•äººæ›´æ”¹å…¶ä¼šè¯å¯†é’¥ï¼Œä»è€Œå¯¼è‡´äº¤æ˜“è´¹ç”¨è¢«æ”¯ä»˜åˆ°é¢„æœŸä¹‹å¤–çš„åœ°æ–¹ã€‚</p></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LplD tabs__item--active">insert</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LplD">rotate</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>æ­¤å‘½ä»¤æ¼”ç¤ºä½¿ç”¨å­å¯†é’¥æ’å…¥ä¼šè¯å¯†é’¥ <a href="https://docs.substrate.io/v3/tools/subkey" target="_blank" rel="noopener noreferrer">subkey</a>ã€‚</p><ul><li><p>ä½¿ç”¨ subkey ç”Ÿæˆ aura å¯†é’¥</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">subkey generate </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --scheme sr25519 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --network calamari </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --output-type json </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --words </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ./aura.json</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>åˆ›å»º author_insertKey rpc payload</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;jsonrpc&quot;:&quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;id&quot;:1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;method&quot;:&quot;author_insertKey&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;params&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;aura&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;&lt;mnemonic phrase&gt;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        &quot;&lt;public key&gt;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">}&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> jq </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --arg mnemonic </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable" style="color:rgb(191, 199, 213)">jq -r .secretPhrase ./aura.json</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --arg public </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable" style="color:rgb(191, 199, 213)">jq -r .publicKey ./aura.json</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;. | .params[1] = </span><span class="token string variable" style="color:rgb(191, 199, 213)">$mnemonic</span><span class="token string" style="color:rgb(195, 232, 141)"> | .params[2] = </span><span class="token string variable" style="color:rgb(191, 199, 213)">$public</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> ./payload.json</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>æ‰§è¡Œ author_insertKey rpc payload</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --header </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Content-Type: application/json;charset=utf-8&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    --data @./payload.json </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    http://localhost:9133</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p><em>éªŒè¯</em> (å¯é€‰)ï¼šæ£€æŸ¥èŠ‚ç‚¹ä½¿ç”¨çš„aura åŠ©è®°ç¬¦æ˜¯å¦ä¸ç”Ÿæˆçš„åŒ¹é…</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">cat</span><span class="token plain"> /var/lib/substrate/chains/calamari/keystore/</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">sudo</span><span class="token variable" style="color:rgb(191, 199, 213)"> -H -u manta </span><span class="token variable function" style="color:rgb(130, 170, 255)">ls</span><span class="token variable" style="color:rgb(191, 199, 213)"> /var/lib/substrate/chains/calamari/keystore/</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p><em>éªŒè¯</em> (å¯é€‰)ï¼šæ£€æŸ¥æ—¥å¿—æ˜¯å¦æ˜¾ç¤ºèŠ‚ç‚¹æ­£åœ¨ä½¿ç”¨è®¤è¯çš„è§’è‰²è¿è¡Œï¼šï¼ˆ<code>AUTHORITY</code>æ£€æŸ¥æ—¶é—´æˆ³ï¼‰</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">journalctl -u calamari.service -g AUTHORITY</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li><li><p>æ¸…é™¤: ä»ç³»ç»Ÿä¸­aura.jsonå’Œpayload.jsonæ–‡ä»¶</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> ./aura.json ./payload.json</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></li></ul></div><div role="tabpanel" hidden=""><p>æ­¤å‘½ä»¤æ¼”ç¤ºä¼šè¯å¯†é’¥æ›´æ¢ã€‚å¦‚æœä¸å­˜åœ¨åˆ™æ–°å»ºä¸€ä¸ªã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">```bash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -H &#x27;Content-Type: application/json&#x27; --data &#x27;{ &quot;jsonrpc&quot;:&quot;2.0&quot;, &quot;method&quot;:&quot;author_rotateKeys&quot;, &quot;id&quot;:1 }&#x27; http://localhost:9933</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p>rpc è°ƒç”¨çš„è¾“å‡ºåº”å¦‚ä¸‹æ‰€ç¤ºï¼ˆ<code>result</code>å±æ€§åŒ…å« aura ä¼šè¯å¸æˆ·å…¬é’¥çš„åå…­è¿›åˆ¶è¡¨ç¤º<em>ï¼‰</em>ï¼š</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">```json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;result&quot;:&quot;0x06736e65ab33fd1e4e3e434a1fa2c5425f0e263ddb50e6aeb15951288c562f61&quot;,&quot;id&quot;:1}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="å°†èŠ‚ç‚¹å¸æˆ·ç»‘å®šåˆ°-aura-session-å¯†é’¥">å°†èŠ‚ç‚¹å¸æˆ·ç»‘å®šåˆ° aura session å¯†é’¥<a class="hash-link" href="#å°†èŠ‚ç‚¹å¸æˆ·ç»‘å®šåˆ°-aura-session-å¯†é’¥" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>å¦‚æœèŠ‚ç‚¹æ—¥å¿—ä¸åŒ…å«<code>[Relaychain] ğŸ’¤ Idle</code>å’Œ<code>[Parachain] ğŸ’¤ Idle</code>æ¶ˆæ¯ï¼Œæ‚¨çš„èŠ‚ç‚¹éœ€è¦ç»§ç»­åŒæ­¥ã€‚ä¸è¦ç»‘å®šä¸€ä¸ªæœªå®Œå…¨åŒæ­¥çš„èŠ‚ç‚¹å¸æˆ·åˆ° aura ä¼šè¯å¯†é’¥ã€‚è¿™æ ·åšä¼šå¯¼è‡´èŠ‚ç‚¹è¢«ç³»ç»Ÿæ‹’ç»æ¥å…¥ã€‚</p></div></div><p>ä½¿ç”¨ polkadot.jsè¿›è¡Œè´¦æˆ·ç»‘å®šã€‚</p><ul><li>åœ¨æµè§ˆå™¨ä¸­Â æ‰“å¼€<a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fws.calamari.systems%2F#/extrinsics" target="_blank" rel="noopener noreferrer">calamari/developer/extrinsics ï¼š</a><img alt="session.setkeys()" src="/cn/assets/images/session.setkeys-9e100922c91348045ce566804c6ce174.png" width="1130" height="469"><ul><li>åœ¨æ ‡æœ‰â€œusing the selected accountâ€çš„ç¬¬ä¸€ä¸ªæ¡†ä¸­ï¼Œé€‰æ‹©æŒæœ‰ 400,000 KMA collatorç»‘å®šå¸æˆ·ã€‚</li><li>åœ¨æ ‡æœ‰â€œsubmit the following extrinsicâ€çš„ç¬¬äºŒä¸ªï¼ˆä¸‹æ‹‰ï¼‰æ¡†ä¸­ï¼Œé€‰æ‹©<code>session</code>.</li><li>åœ¨ç¬¬ä¸‰ä¸ªï¼ˆä¸‹æ‹‰ï¼‰æ¡†ä¸­ï¼Œé€‰æ‹©<code>setKeys(keys, proof)</code></li><li>åœ¨æ ‡æœ‰<code>aura: SpConsensusAuraSr25519AppSr25519Public</code> and <code>proof: Bytes</code>ç¬¬å››å’Œç¬¬äº”æ¡†ä¸­è¾“å…¥ aura ä¼šè¯å¯†é’¥çš„åå…­è¿›åˆ¶å…¬é’¥ã€‚</li><li>å•å‡»<code>Submit Transaction</code>æŒ‰é’®å¹¶ç­‰å¾…ç¡®è®¤ï¼ˆç»¿è‰²å‹¾å·ï¼‰</li></ul></li><li>é€šè¿‡åœ¨æµè§ˆå™¨ä¸­åŠ è½½ <a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fws.calamari.systems%2F#/chainstate" target="_blank" rel="noopener noreferrer">calamari/developer/chainstate</a> æ¥éªŒè¯æ•´ç†è€…å¸æˆ·å’Œ aura ä¼šè¯å¯†é’¥æ˜¯å¦å·²<em>ç»‘å®š</em>ï¼š
<img alt="session.nextkeys()" src="/cn/assets/images/session.nextkeys-869e6bb09ba971b56aaaf33800674663.png" width="1217" height="593"><ul><li>åœ¨ç¬¬ä¸€ä¸ªï¼ˆä¸‹æ‹‰ï¼‰æ¡†ä¸­ï¼Œæ ‡è®°ä¸ºâ€œselected state queryâ€ï¼Œé€‰æ‹©<code>session</code>.</li><li>åœ¨ç¬¬äºŒä¸ªï¼ˆä¸‹æ‹‰ï¼‰æ¡†ä¸­ï¼Œé€‰æ‹©<code>nextKeys(AccountId32): Option&lt;CalamariRuntimeOpaqueSessionKeys&gt;</code>ã€‚</li><li>åœ¨ç¬¬ä¸‰ä¸ªï¼ˆä¸‹æ‹‰ï¼‰æ¡†ä¸­ï¼Œé€‰æ‹©æŒæœ‰ 400,000 KMA Collatorç»‘å®šå¸æˆ·ã€‚</li><li>ä¿æŒ<code>include option</code>é€‰ä¸­å¤é€‰æ¡†é€‰ä¸­ã€‚</li><li><code>blockhash to query at</code>æ¡†è®¾ç½®ä¸ºé»˜è®¤<code>0x</code>å€¼</li><li>å•å‡»ç¬¬äºŒä¸ªä¸‹æ‹‰æ¡†å³ä¾§çš„(+) å›¾æ ‡.</li><li>éªŒè¯æ˜¯å¦å‡ºç°äº†ä¸€ä¸ªæ ‡è®°ä¸º<code>session.nextKeys(AccountId32): Option&lt;CalamariRuntimeOpaqueSessionKeys&gt;</code> çš„json å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„<code>aura</code>å€¼ä¸ºä¹‹å‰è®¾ç½®çš„ aura ä¼šè¯åå…­è¿›åˆ¶å…¬é’¥ã€‚</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="åŒæ­¥">åŒæ­¥<a class="hash-link" href="#åŒæ­¥" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>å¦‚æœä¸­ç»§é“¾ä¸Šæ²¡å‘ç°peersï¼Œæˆ–è€…æ‚¨çš„èŠ‚ç‚¹æ— æ³•éªŒè¯æ–°å—ï¼Œè¯·ç¡®ä¿æ‚¨èŠ‚ç‚¹çš„æ—¶é’Ÿå‡†ç¡®ä¸ ntp æ—¶é—´æœåŠ¡å™¨åŒæ­¥ã€‚</p><p>æäº¤ç”³è¯·å‰ï¼Œæ‚¨å¿…é¡»åŒæ­¥ calamari å¹³è¡Œé“¾å’Œ kusama ä¸­ç»§é“¾ã€‚å®Œå…¨åŒæ­¥çš„åº•å±‚åŒºå—é“¾èŠ‚ç‚¹å°†åœ¨å…¶æ—¥å¿—ä¸­æ˜¾ç¤ºç©ºé—²çŠ¶æ€ï¼Œ<code>[Relaychain]</code>å¹¶ä¸”<code>[Parachain]</code>çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class="codeBlockContainer_I0IT language-shell= theme-code-block"><div class="codeBlockContent_wNvx shell="><pre tabindex="0" class="prism-code language-shell= codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">2022-03-01 17:18:58 [Parachain] ğŸ’¤ Idle (49 peers), best: #1037783 (0xa0c5â€¦04a8), finalized #1037781 (0xabd5â€¦1c05), â¬‡ 16.7kiB/s â¬† 14.5kiB/s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">2022-03-01 17:18:55 [Relaychain] ğŸ’¤ Idle (49 peers), best: #11619808 (0x24a5â€¦ad58), finalized #11619804 (0xa362â€¦2df4), â¬‡ 478.0kiB/s â¬† 520.5kiB/s</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><p>å¦‚æœèŠ‚ç‚¹æ—¥å¿—ä¸åŒ…å«<code>[Relaychain] ğŸ’¤ Idle</code>å’Œ<code>[Parachain] ğŸ’¤ Idle</code>æ¶ˆæ¯ï¼Œæ‚¨çš„èŠ‚ç‚¹éœ€è¦ç»§ç»­åŒæ­¥ã€‚ä¸è¦ç»‘å®šä¸€ä¸ªæœªå®Œå…¨åŒæ­¥çš„Collatorå¸æˆ·åˆ° aura ä¼šè¯å¯†é’¥ã€‚è¿™æ ·åšä¼šå¯¼è‡´èŠ‚ç‚¹è¢«ç³»ç»Ÿæ‹’ç»æ¥å…¥ã€‚</p><p>æœ€ä½³çš„åŒæ­¥æ–¹å¼æ˜¯æŒç»­è¿è¡Œæ‚¨çš„èŠ‚ç‚¹ï¼Œç›´åˆ°ç©ºé—²æ¶ˆæ¯å‡ºç°åœ¨æ‚¨çš„æ—¥å¿—ä¸­ã€‚è¿™æ ·åšå¯èƒ½éœ€è¦é•¿è¾¾ 2 å‘¨çš„æ—¶é—´ï¼Œä½†å®ƒä¹Ÿä¼šä¸ºæ‚¨æä¾›æ‚¨æ­£åœ¨åŒæ­¥çš„åŒºå—é“¾çš„å®Œç¾ã€ç»è¿‡åŠ å¯†éªŒè¯å’Œå®Œæ•´çš„å†å²è®°å½•ã€‚</p><p>å¦‚æœæ‚¨ä¸æƒ³ç­‰å¾…æ¼«é•¿çš„åŒæ­¥å®Œæˆï¼Œå¯ä»¥ä» manta çš„å¤‡ä»½èŠ‚ç‚¹è·å– calamari å’Œ kusama åŒºå—é“¾çš„å¿«é€ŸåŒæ­¥å‰¯æœ¬ï¼š</p><ul><li>åœæ­¢ Calamari æœåŠ¡</li><li>ä» basepath ä¸­åˆ é™¤ calamari å’Œ kusama æ•°æ®åº“ï¼ˆæ³¨æ„ä¸è¦åˆ é™¤åœ¨basepathä¸‹çš„keystores ï¼‰</li><li>è·å–åŒºå—é“¾çš„å‰¯æœ¬</li><li>ç¡®ä¿æ•´ä¸ªbasepath åŠå…¶æ‰€æœ‰æƒé™éƒ½å½’è¿è¡Œæ‚¨çš„èŠ‚ç‚¹çš„ç”¨æˆ·æ‰€æœ‰ï¼ˆå¦‚éœ€åˆ™æ›´æ”¹æƒé™ï¼‰</li><li>å¯åŠ¨ Calamari æœåŠ¡</li><li>éªŒè¯èŠ‚ç‚¹æ˜¯å¦æ­£ç¡®åŒæ­¥</li><li>ç­‰å¾…å¹³è¡Œé“¾å’Œä¸­ç»§é“¾ç©ºé—²æ¶ˆæ¯å‡ºç°åœ¨æ—¥å¿—ä¸­</li></ul><p>å¿«é€ŸåŒæ­¥å‘½ä»¤(requires <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" target="_blank" rel="noopener noreferrer">aws cli</a>):</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># stop calamari service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl stop calamari.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># sync calamari blockchain database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta aws s3 </span><span class="token function" style="color:rgb(130, 170, 255)">sync</span><span class="token plain"> --region eu-central-1 --no-sign-request --delete s3://calamari-kusama/var/lib/substrate/chains/calamari/db/full /var/lib/substrate/chains/calamari/db/full</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># sync kusama blockchain database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta aws s3 </span><span class="token function" style="color:rgb(130, 170, 255)">sync</span><span class="token plain"> --region eu-central-1 --no-sign-request --delete s3://calamari-kusama/var/lib/substrate/polkadot/chains/ksmcc3/db/full /var/lib/substrate/polkadot/chains/ksmcc3/db/full</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># update database `current` manifests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;basename </span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable function" style="color:rgb(130, 170, 255)">ls</span><span class="token string variable" style="color:rgb(191, 199, 213)"> /var/lib/substrate/chains/calamari/db/full/MANIFEST-*</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)"> &gt; /var/lib/substrate/chains/calamari/db/full/CURRENT&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;basename </span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable function" style="color:rgb(130, 170, 255)">ls</span><span class="token string variable" style="color:rgb(191, 199, 213)"> /var/lib/substrate/polkadot/chains/ksmcc3/db/full/MANIFEST-*</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)"> &gt; /var/lib/substrate/polkadot/chains/ksmcc3/db/full/CURRENT&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> -H -u manta </span><span class="token function" style="color:rgb(130, 170, 255)">bash</span><span class="token plain"> -c </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;basename </span><span class="token string variable" style="color:rgb(191, 199, 213)">$(</span><span class="token string variable function" style="color:rgb(130, 170, 255)">ls</span><span class="token string variable" style="color:rgb(191, 199, 213)"> /var/lib/substrate/polkadot/chains/ksmcc3/db/full/parachains/db/MANIFEST-*</span><span class="token string variable" style="color:rgb(191, 199, 213)">)</span><span class="token string" style="color:rgb(195, 232, 141)"> &gt; /var/lib/substrate/polkadot/chains/ksmcc3/db/full/parachains/db/CURRENT&#x27;</span><br></span></code></pre><button type="button" aria-label="å°†ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copyButton_wuS7 clean-btn">å¤åˆ¶</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="ç­‰å¾…">ç­‰å¾…<a class="hash-link" href="#ç­‰å¾…" title="ç›´æ¥é“¾æ¥åˆ°æ ‡é¢˜">â€‹</a></h2><p>ç¡®ä¿å·²å®Œæˆ<a href="https://docs.google.com/forms/d/e/1FAIpQLScizDDMq7jWeOPVVEMr3EY_Z6N6ugdkL8aKgAbZ9lAJX6DEOQ/viewform" target="_blank" rel="noopener noreferrer">èŠ‚ç‚¹ç”³è¯·</a>å¡«å†™ã€‚å¦‚æœè·å¾—æ‰¹å‡†ï¼ŒCalamari ç†äº‹ä¼šå°†æäº¤ä¸€é¡¹æè®®ï¼Œå°†æ‚¨æå‡ä¸ºå€™é€‰äºº</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>å€™é€‰äººå¹¶ä¸æ„å‘³ç€æ‚¨æ˜¯èŠ‚ç‚¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ 3 ä¸ªå€™é€‰åé¢ï¼Œè€Œå…¶ä»–å€™é€‰äººå æ®æ‰€æœ‰åé¢ï¼Œè€Œæ‚¨åœ¨ç¬¬ 4 åï¼Œåˆ™å¿…é¡»ç­‰åˆ°æŸä¸ªèŠ‚ç‚¹æ³¨é”€æˆ–ç†äº‹ä¼šå¢åŠ 
èŠ‚ç‚¹åé¢ã€‚</p></div></div><p>å¦‚æœé¡ºåˆ©æˆä¸ºèŠ‚ç‚¹ï¼Œåœ¨å€™é€‰è®®æ¡ˆé€šè¿‡å<code>12</code>åˆ°<code>24</code>å‡ å°æ—¶ï¼Œæ‚¨å°†åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°èŠ‚ç‚¹å¼€å§‹ç”Ÿæˆå— <a href="https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fws.calamari.systems%2F#/explorer" target="_blank" rel="noopener noreferrer">explorer</a>.ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Manta-Network/docs/edit/main/docs/collator/SetupAndRun.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç¼–è¾‘æœ¬é¡µé¢</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£é¡µé¢å¯¼èˆª"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cn/docs/collator/HowToApply"><div class="pagination-nav__sublabel">ä¸Šä¸€ç¯‡</div><div class="pagination-nav__label">ğŸ‘©ğŸ¼â€ğŸ’» å¦‚ä½•ç”³è¯·è¿è¡Œ Calamari èŠ‚ç‚¹ï¼Ÿ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cn/docs/collator/HowToLeave"><div class="pagination-nav__sublabel">ä¸‹ä¸€ç¯‡</div><div class="pagination-nav__label">ğŸ’” é€€å‡ºèŠ‚ç‚¹è®¡åˆ’</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å®‰è£…" class="table-of-contents__link toc-highlight">å®‰è£…</a></li><li><a href="#é…ç½®" class="table-of-contents__link toc-highlight">é…ç½®</a><ul><li><a href="#èŠ‚ç‚¹é…ç½®ç‰¹æ®Šå‚æ•°" class="table-of-contents__link toc-highlight">èŠ‚ç‚¹é…ç½®ç‰¹æ®Šå‚æ•°</a></li><li><a href="#å¼€æ”¾èŠ‚ç‚¹è¿è¡ŒæŒ‡æ ‡ç›‘æ§" class="table-of-contents__link toc-highlight">å¼€æ”¾èŠ‚ç‚¹è¿è¡ŒæŒ‡æ ‡ç›‘æ§</a></li><li><a href="#é˜²ç«å¢™é…ç½®" class="table-of-contents__link toc-highlight">é˜²ç«å¢™é…ç½®</a></li></ul></li><li><a href="#è¿è¡Œ" class="table-of-contents__link toc-highlight">è¿è¡Œ</a></li><li><a href="#èŠ‚ç‚¹-session-å¯†é’¥" class="table-of-contents__link toc-highlight">èŠ‚ç‚¹ session å¯†é’¥</a><ul><li><a href="#å°†èŠ‚ç‚¹å¸æˆ·ç»‘å®šåˆ°-aura-session-å¯†é’¥" class="table-of-contents__link toc-highlight">å°†èŠ‚ç‚¹å¸æˆ·ç»‘å®šåˆ° aura session å¯†é’¥</a></li></ul></li><li><a href="#åŒæ­¥" class="table-of-contents__link toc-highlight">åŒæ­¥</a></li><li><a href="#ç­‰å¾…" class="table-of-contents__link toc-highlight">ç­‰å¾…</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cn/docs/Introduction">ä»‹ç»</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/manta/Overview">Manta æ¦‚è§ˆ</a></li><li class="footer__item"><a class="footer__link-item" href="/cn/docs/calamari/Overview">Calamari æ¦‚è§ˆ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/mantanetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/mantanetworkofficial" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/MnaM4mqq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤šçš„</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Manta-Network" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:contact@manta.network" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">ç‰ˆæƒ Â© 2019-2022 Manta Network.</div></div></div></footer></div>
<script src="/cn/assets/js/runtime~main.20d0b31e.js"></script>
<script src="/cn/assets/js/main.afc080ad.js"></script>
</body>
</html>